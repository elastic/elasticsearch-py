// This file is autogenerated, DO NOT EDIT
// aggregations/bucket/range-aggregation.asciidoc:180

[source, python]
----
resp = client.search(
    index="sales",
    runtime_mappings={
        "price.euros": {
            "type": "double",
            "script": {
                "source": "\n          emit(doc['price'].value * params.conversion_rate)\n        ",
                "params": {
                    "conversion_rate": 0.835526591
                }
            }
        }
    },
    aggs={
        "price_ranges": {
            "range": {
                "field": "price.euros",
                "ranges": [
                    {
                        "to": 100
                    },
                    {
                        "from": 100,
                        "to": 200
                    },
                    {
                        "from": 200
                    }
                ]
            }
        }
    },
)
print(resp)
----
