// This file is autogenerated, DO NOT EDIT
// ingest/processors/script.asciidoc:112

[source, python]
----
resp = client.ingest.simulate(
    pipeline={
        "processors": [
            {
                "script": {
                    "description": "Set index based on `lang` field and `dataset` param",
                    "lang": "painless",
                    "source": "\n            ctx['_index'] = ctx['lang'] + '-' + params['dataset'];\n          ",
                    "params": {
                        "dataset": "catalog"
                    }
                }
            }
        ]
    },
    docs=[
        {
            "_index": "generic-index",
            "_source": {
                "lang": "fr"
            }
        }
    ],
)
print(resp)
----
