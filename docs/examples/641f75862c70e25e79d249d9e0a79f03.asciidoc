// This file is autogenerated, DO NOT EDIT
// query-dsl/nested-query.asciidoc:41

[source, python]
----
resp = client.search(
    index="my-index-000001",
    query={
        "nested": {
            "path": "obj1",
            "query": {
                "bool": {
                    "must": [
                        {
                            "match": {
                                "obj1.name": "blue"
                            }
                        },
                        {
                            "range": {
                                "obj1.count": {
                                    "gt": 5
                                }
                            }
                        }
                    ]
                }
            },
            "score_mode": "avg"
        }
    },
)
print(resp)
----
