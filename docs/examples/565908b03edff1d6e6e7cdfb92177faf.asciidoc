// This file is autogenerated, DO NOT EDIT
// aggregations/metrics/stats-aggregation.asciidoc:53

[source, python]
----
resp = client.search(
    index="exams",
    size=0,
    runtime_mappings={
        "grade.weighted": {
            "type": "double",
            "script": "\n        emit(doc['grade'].value * doc['weight'].value)\n      "
        }
    },
    aggs={
        "grades_stats": {
            "stats": {
                "field": "grade.weighted"
            }
        }
    },
)
print(resp)
----
