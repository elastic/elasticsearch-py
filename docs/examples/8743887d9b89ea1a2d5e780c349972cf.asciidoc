// This file is autogenerated, DO NOT EDIT
// search/search-your-data/collapse-search-results.asciidoc:263

[source, python]
----
resp = client.search(
    index="my-index-000001",
    query={
        "match": {
            "message": "GET /search"
        }
    },
    collapse={
        "field": "geo.country_name",
        "inner_hits": {
            "name": "by_location",
            "collapse": {
                "field": "user.id"
            },
            "size": 3
        }
    },
)
print(resp)
----
