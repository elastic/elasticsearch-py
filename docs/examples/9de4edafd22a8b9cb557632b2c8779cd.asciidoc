// This file is autogenerated, DO NOT EDIT
// esql/esql-rest.asciidoc:306

[source, python]
----
resp = client.esql.query(
    query="\n    FROM library\n    | EVAL year = DATE_EXTRACT(\"year\", release_date)\n    | WHERE page_count > ?1 AND author == ?2\n    | STATS count = COUNT(*) by year\n    | WHERE count > ?3\n    | LIMIT 5\n  ",
    params=[
        300,
        "Frank Herbert",
        0
    ],
)
print(resp)
----
