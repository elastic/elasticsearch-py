// This file is autogenerated, DO NOT EDIT
// inference/chat-completion-inference.asciidoc:318

[source, python]
----
resp = client.perform_request(
    "POST",
    "/_inference/chat_completion/openai-completion/_stream",
    headers={"Content-Type": "application/json"},
    body={
        "messages": [
            {
                "role": "assistant",
                "content": "Let's find out what the weather is",
                "tool_calls": [
                    {
                        "id": "call_KcAjWtAww20AihPHphUh46Gd",
                        "type": "function",
                        "function": {
                            "name": "get_current_weather",
                            "arguments": "{\"location\":\"Boston, MA\"}"
                        }
                    }
                ]
            },
            {
                "role": "tool",
                "content": "The weather is cold",
                "tool_call_id": "call_KcAjWtAww20AihPHphUh46Gd"
            }
        ]
    },
)
print(resp)
----
