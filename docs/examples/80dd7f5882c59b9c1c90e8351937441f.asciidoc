// This file is autogenerated, DO NOT EDIT
// rest-api/security/bulk-update-api-keys.asciidoc:182

[source, python]
----
resp = client.perform_request(
    "POST",
    "/_security/api_key/_bulk_update",
    headers={"Content-Type": "application/json"},
    body={
        "ids": [
            "VuaCfGcBCdbkQm-e5aOx",
            "H3_AhoIBA9hmeQJdg7ij"
        ],
        "role_descriptors": {
            "role-a": {
                "indices": [
                    {
                        "names": [
                            "*"
                        ],
                        "privileges": [
                            "write"
                        ]
                    }
                ]
            }
        },
        "metadata": {
            "environment": {
                "level": 2,
                "trusted": True,
                "tags": [
                    "production"
                ]
            }
        },
        "expiration": "30d"
    },
)
print(resp)
----
