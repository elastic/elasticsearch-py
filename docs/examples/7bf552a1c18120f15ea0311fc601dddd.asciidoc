// This file is autogenerated, DO NOT EDIT
// data-streams/failure-store-recipes.asciidoc:601

[source, python]
----
resp = client.ingest.put_pipeline(
    id="my-datastream-remediation-pipeline",
    processors=[
        {
            "script": {
                "lang": "painless",
                "source": "\n          ctx._index = ctx.document.index; \n          ctx._routing = ctx.document.routing;\n          def s = ctx.document.source; \n          ctx.remove(\"error\"); \n          ctx.remove(\"document\"); \n          for (e in s.entrySet()) { \n            ctx[e.key] = e.value;\n          }"
            }
        },
        {
            "reroute": {
                "destination": "my-datastream-ingest-example"
            }
        }
    ],
)
print(resp)
----
