// This file is autogenerated, DO NOT EDIT
// snapshot-restore/take-snapshot.asciidoc:603

[source, python]
----
resp = client.slm.put_lifecycle(
    policy_id="monthly-snapshots",
    name="<monthly-snapshot-{now/d}>",
    schedule="0 56 23 1 * ?",
    repository="my_repository",
    config={
        "indices": "*",
        "include_global_state": True
    },
    retention={
        "expire_after": "366d",
        "min_count": 1,
        "max_count": 12
    },
)
print(resp)
----
