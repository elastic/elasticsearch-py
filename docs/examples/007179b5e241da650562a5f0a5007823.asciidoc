// This file is autogenerated, DO NOT EDIT
// watcher/example-watches/example-watch-clusterstatus.asciidoc:193

[source, python]
----
resp = client.watcher.put_watch(
    id="cluster_health_watch",
    trigger={
        "schedule": {
            "interval": "10s"
        }
    },
    input={
        "http": {
            "request": {
                "host": "localhost",
                "port": 9200,
                "path": "/_cluster/health"
            }
        }
    },
    condition={
        "compare": {
            "ctx.payload.status": {
                "eq": "red"
            }
        }
    },
    actions={
        "send_email": {
            "email": {
                "to": "username@example.org",
                "subject": "Cluster Status Warning",
                "body": "Cluster status is RED"
            }
        }
    },
)
print(resp)
----
