// This file is autogenerated, DO NOT EDIT
// esql/esql-rest.asciidoc:247

[source, python]
----
resp = client.esql.query(
    query="\n    FROM library\n    | EVAL year = DATE_EXTRACT(\"year\", release_date)\n    | WHERE page_count > 300 AND author == \"Frank Herbert\"\n    | STATS count = COUNT(*) by year\n    | WHERE count > 0\n    | LIMIT 5\n  ",
)
print(resp)
----
