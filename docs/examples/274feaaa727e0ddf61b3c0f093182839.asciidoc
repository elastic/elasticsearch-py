// mapping/runtime.asciidoc:414

[source, python]
----
resp = client.search(
    index="my-index-000001",
    body={
        "runtime_mappings": {
            "duration": {
                "type": "long",
                "script": {
                    "source": "\n          emit(doc['measures.end'].value - doc['measures.start'].value);\n          "
                },
            }
        },
        "aggs": {"duration_stats": {"stats": {"field": "duration"}}},
    },
)
print(resp)
----